<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>post</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            display: grid;
            grid-template-columns: 1fr 200px;
            grid-template-rows: auto;
            grid-template-areas:
            "main sidebar"
            "footer footer";
            min-height: 100vh;
        }
      main {
        padding: 20px;
        grid-area: main;
      }
      footer {
        background-color: #333;
        color: white;
        padding: 10px;
        text-align: center;
        position: fixed;
        bottom: 0;
        width: 100%;
      }

      .imgbox {
        width: 400px;
        height: 300px;
        background-color: whitesmoke; /* 박스 배경색 */
        border: 1px solid #000; /* 박스 테두리 */
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .imgbox img {
        max-width: 400px;
        max-height: 300px;
      }

      .content {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        max-width: 600px;
        margin: 0 auto;
      }
      
        #descriptionForm label {
    display:flex;
  }


.star-rating {
    font-size: 30px;
}

.star {
  cursor: pointer;
}

.star:hover,
.star.active {
  color: gold;
}
    </style>
  </head>


  <body>
    <main>
      <div class="content">
        <div class="imgbox" onclick="openFileInput()"></div>
        <form id="descriptionForm">
            <label for="location">위치:</label><br>
            <input type="text" id="locationInput" placeholder="장소를 입력하세요">
            <button onclick="searchLocation()">검색</button><br>
    
            <label for="title">제목:</label><br>
            <input type="text" id="title" name="title"><br>
    
            <label for="content">내용:</label><br>
            <textarea id="content" name="content"></textarea><br>
    
            <label for="rating">평점:</label><br>
                <!--별표입니당ㅋㅋ-->
      <div class="star-rating" data-rating="0">
        <span class="star" data-value="1">&#9733;</span>
        <span class="star" data-value="2">&#9733;</span>
        <span class="star" data-value="3">&#9733;</span>
        <span class="star" data-value="4">&#9733;</span>
        <span class="star" data-value="5">&#9733;</span>
      </div>
    
            <label for="info">정보:</label><br>
            <select id="dropdown" name="dropdown">
                <option value="option0">계절</option>
                <option value="option1">봄</option>
                <option value="option3">여름</option>
                <option value="option3">가을</option>
                <option value="option4">겨울</option>
              </select>
              <select id="dropdown" name="with">
                <option value="option0">누구와</option>
                <option value="option1">혼자</option>
                <option value="option3">친구랑</option>
                <option value="option3">연인이랑</option>
                <option value="option4">가족이랑</option>
              </select>
              <select id="dropdown" name="classfication">
                <option value="option0">분류</option>
                <option value="option1">일상</option>
                <option value="option3">휴양</option>
                <option value="option3">액티비티</option>
                <option value="option4">출장</option>
              </select>
              
              <br><br>
    
            <button type="button" onclick="submitForm()">저장</button>
        </form>
    
        <div class="description" id="descriptionOutput">
            <!-- 입력된 내용이 여기에 표시될 것입니다. -->
      </div>

      
    </main>

    <footer>
      <p>여기에 뭘 적으면 좋을까요 닫기버튼?</p>
    </footer>

    <!-------------js----------------->
    <script>
      function openFileInput() {
        // 파일 입력 요소 생성
        var fileInput = document.createElement("input");
        fileInput.type = "file";

        // 파일이 선택되면 파일이 선택됐을 때 실행될 함수 지정
        fileInput.addEventListener("change", function () {
          var file = fileInput.files[0]; // 선택된 파일 가져오기

          // FileReader 객체를 사용하여 파일 내용 읽기
          var reader = new FileReader();

          reader.onload = function (event) {
            var fileContent = event.target.result; // 파일 내용 가져오기
            displayImage(fileContent);
          };

          // 파일을 Data URL로 읽기
          reader.readAsDataURL(file);
        });

        // 파일 입력 요소를 클릭하여 파일 선택 창 열기
        fileInput.click();
      }

      // 박스 안에 이미지를 표시하는 함수
      function displayImage(dataURL) {
        var box = document.querySelector(".imgbox");
        box.innerHTML = '<img src="' + dataURL + '" alt="Selected Image">';
      }
    // 저장된 값을 불러오는 함수
    //   function submitForm() {
    //         var location = document.getElementById("location").value;
    //         var title = document.getElementById("title").value;
    //         var content = document.getElementById("content").value;
    //         var rating = document.getElementById("rating").value;
    //         var info = document.getElementById("info").value;


    //         var descriptionOutput = document.getElementById("descriptionOutput");
    //         descriptionOutput.innerHTML = `
    //             <p><strong>위치:</strong> ${location}</p>
    //             <p><strong>제목:</strong> ${title}</p>
    //             <p><strong>내용:</strong> ${content}</p>
    //             <p><strong>평점:</strong> ${rating}</p>
    //             <p><strong>정보:</strong> ${info}</p>  
    //         `;


    document.addEventListener("DOMContentLoaded", function() {
        const stars = document.querySelectorAll(".star-rating .star");
// 별점 생성기-,,-
  stars.forEach(function(star) {
    star.addEventListener("click", function() {
      const rating = parseInt(star.getAttribute("data-value"));
      const starRating = star.parentElement;
      starRating.setAttribute("data-rating", rating);

      stars.forEach(function(s) {
        if (parseInt(s.getAttribute("data-value")) <= rating) {
          s.classList.add("active");
        } else {
          s.classList.remove("active");
        }
      });
    });
  });
});

//구글지도 api가져오기
function searchLocation() {
    var place = document.getElementById("locationInput").value;
    var url =
    "https://maps.googleapis.com/maps/api/geocode/json?address=" +
    
    encodeURIComponent(place) +
    "&key=여기에 API키 추가 ";

    fetch(url)
        .then(response => response.json())
        .then(data => {
             var location = data.results[0].geometry.location;
             var resultDiv = document.getElementById("result");
                    resultDiv.innerHTML = "위도: " + location.lat + "<br>경도: " + location.lng;
         })
         .catch(error => console.error('에러 발생:', error));
 }

    </script>
  </body>
</html>